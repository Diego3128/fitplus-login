<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrarse</title>
    <link rel="stylesheet" href="/resources/css/styles.css">
</head>

<body>

    <h2>Registrarse</h2>

    <!-- Mensaje de alerta -->
    <% if (typeof alert !='undefined' ) { %>
        <% if (alertType==="error" ) {%>
            <div id="alert" class="alert error show">
                <% } else{%>
                    <div id="alert" class="alert success show">
                        <%}%>
                            <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                            <strong>
                                <%= alertTitle %>
                            </strong>
                            <%= alertMsg %>
                    </div>
                    <% } %>

                        <div class="form-container">
                            <!-- el formulario se envia a POST/register -->
                            <form action="/register" , method="post" class="form">
                                <fieldset>
                                    <legend>Información</legend>

                                    <label for="email">Tu correo</label>
                                    <input type="email" name="email" id="email" placeholder="ejemplo@ejemplo.com"
                                        maxlength="60" required>

                                    <label for="userName">Tu nombre Completo</label>
                                    <input type="text" name="userName" id="userName" placeholder="Escribe tu nombre"
                                        maxlength="60" required>

                                    <label for="password">Contraseña</label>
                                    <input type="password" name="password" id="password"
                                        placeholder="Elige una contraseña" maxlength="20" required>
                                </fieldset>

                                <input class="btn btn--submit" type="submit" value="Crear Cuenta">

                                <a href="/login" class="btn btn--register">Iniciar Sesión</a>
                            </form>
                        </div>


                        <!-- Elementos animación -->
                        <div class="animation-container">
                            <div class="circle circle--small"></div>
                            <div class="circle circle--medium"></div>
                            <div class="circle circle--large"></div>
                        </div>



                        <script>
                            // elimianr alerta despues de 8s
                            setTimeout(function () {
                                const alertBox = document.getElementById('alert');

                                const userName = "<%= user ? user : '' %>";
                                console.log(userName);

                                if (alertBox) {
                                    alertBox.style.display = 'none';

                                }
                            }, 8000);
                        </script>
</body>

</html>